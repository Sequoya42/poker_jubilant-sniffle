webpackJsonp([8],[,,,,,,,,,function(e,n,t){"use strict";function a(e){t(25)}Object.defineProperty(n,"__esModule",{value:!0});var r=t(26),s=t(27),o=t(0),i=a,l=o(r.a,s.a,!1,i,null,null);n.default=l.exports},,,,,,function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=t(3),r=t(1),s=t(19),o=t.n(s),i=t(20),l=(t(9),t(28)),c=t(76);a.a.config.productionTip=!1,t(81),a.a.use(r.a),a.a.use(o.a,{theme:{primary:"#232b2b",secondary:"#33673B"}}),new a.a({el:"#app",router:l.a,store:c.a,template:"<App/>",components:{App:i.a}})},,,,,function(e,n,t){"use strict";function a(e){t(21)}var r=t(23),s=t(24),o=t(0),i=a,l=o(r.a,s.a,!1,i,null,null);n.a=l.exports},function(e,n){},,function(e,n,t){"use strict";n.a={name:"app",components:{TheHeader:function(){return t.e(6).then(t.bind(null,84))}}}},function(e,n,t){"use strict";var a=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("v-app",{attrs:{dark:""}},[t("TheHeader"),e._v(" "),t("router-view",{attrs:{app:""}})],1)},r=[],s={render:a,staticRenderFns:r};n.a=s},function(e,n){},function(e,n,t){"use strict";n.a={props:["winner"],name:"popup",data:function(){return{snackbar:!1}},watch:{winner:function(e){this.snackbar=e}},computed:{},methods:{},components:{}}},function(e,n,t){"use strict";var a=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",[t("v-snackbar",{attrs:{timeout:2e3,top:!0},model:{value:e.snackbar,callback:function(n){e.snackbar=n},expression:"snackbar"}},[t("p",[t("b",[e._v(e._s(e.winner))]),e._v(" won the hand\n    ")]),e._v(" "),t("v-btn",{staticClass:"blue--text",attrs:{flat:""},nativeOn:{click:function(n){e.snackbar=!1}}},[e._v("Close")])],1)],1)},r=[],s={render:a,staticRenderFns:r};n.a=s},function(e,n,t){"use strict";var a=t(3),r=t(29),s=t(30),o=t(34),i=t(66);a.a.use(r.a),n.a=new r.a({routes:[{path:"/description",name:"Description",component:s.a},{path:"/",name:"Game",component:o.a},{path:"/settings",name:"Settings",component:i.a}]})},,function(e,n,t){"use strict";function a(e){t(31)}var r=t(32),s=t(33),o=t(0),i=a,l=o(r.a,s.a,!1,i,"data-v-f0f812f2",null);n.a=l.exports},function(e,n){},function(e,n,t){"use strict";n.a={name:"home",data:function(){return{msg:"Welcome to Your Vue.js App"}}}},function(e,n,t){"use strict";var a=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("v-container",{staticClass:"home",attrs:{fluid:""}},[e._v("\n  Have cards and no poker chips? Play with cards in your hands, and bet on the computer.\n  "),t("div",{staticClass:"centerStuff"},[t("router-link",{attrs:{to:{name:"Settings"}}},[t("v-btn",[e._v("\n        Settings\n      ")])],1)],1)])},r=[],s={render:a,staticRenderFns:r};n.a=s},function(e,n,t){"use strict";function a(e){t(35)}var r=t(36),s=t(65),o=t(0),i=a,l=o(r.a,s.a,!1,i,null,null);n.a=l.exports},function(e,n){},function(e,n,t){"use strict";var a=t(2),r=t.n(a),s=t(1);n.a={name:"play",beforeMount:function(){this.$store.commit("setPlayersStack"),this.$store.commit("playerOneDeals"),this.$store.dispatch("new_hand")},data:function(){return{showStack:!0,snackbar:!1}},watch:{oneWin:function(){console.log("Changed",this.oneWin),this.snackbar=this.oneWin}},computed:r()({},Object(s.c)(["end","players","reset","separatePot","oneWin"])),methods:{},components:{playerStack:function(){return t.e(2).then(t.bind(null,85))},pokerTable:function(){return t.e(0).then(t.bind(null,86))},chooseWinner:function(){return t.e(5).then(t.bind(null,87))},playerAction:function(){return t.e(3).then(t.bind(null,88))},resetGame:function(){return t.e(1).then(t.bind(null,89))},listActions:function(){return t.e(4).then(t.bind(null,90))},popup:function(){return new Promise(function(e){e()}).then(t.bind(null,9))}}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,n,t){"use strict";var a=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("v-container",{attrs:{fluid:""}},[t("listActions"),e._v(" "),t("popup",{attrs:{winner:e.oneWin}}),e._v(" "),t("pokerTable"),e._v(" "),t("v-container",{staticClass:"choices"},[t(e.reset?"resetGame":e.end?"chooseWinner":"playerAction")],1)],1)},r=[],s={render:a,staticRenderFns:r};n.a=s},function(e,n,t){"use strict";function a(e){t(67)}var r=t(68),s=t(75),o=t(0),i=a,l=o(r.a,s.a,!1,i,"data-v-10b11d16",null);n.a=l.exports},function(e,n){},function(e,n,t){"use strict";var a=t(2),r=t.n(a),s=t(69),o=t(1);n.a={name:"settings",computed:r()({},Object(o.c)(["smallBlind","bigBlind","stack","nPlayers"])),methods:r()({},Object(o.d)(["setBigBlind","setSmallBlind","setStack","setPlayers","setPlayersStack"])),watch:{smallBlind:function(){this.smallBlind>=this.stack/2&&this.setStack(3*this.stack)}},components:{playerSettings:s.a}}},function(e,n,t){"use strict";function a(e){t(70)}var r=t(71),s=t(74),o=t(0),i=a,l=o(r.a,s.a,!1,i,null,null);n.a=l.exports},function(e,n){},function(e,n,t){"use strict";var a=t(2),r=t.n(a),s=t(1),o=t(72),i=t.n(o);n.a={name:"playerSettings",components:{draggable:i.a},computed:{players:{get:function(){return this.$store.getters.players},set:function(e){this.$store.commit("updatePlayersOrders",e)}}},methods:r()({},Object(s.b)(["change_name"]))}},,,function(e,n,t){"use strict";var a=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",[t("h4",[e._v("Players names")]),e._v(" "),t("draggable",{model:{value:e.players,callback:function(n){e.players=n},expression:"players"}},e._l(e.players,function(n,a){return t("div",{key:a},[t("v-text-field",{attrs:{type:"text",value:n.name},on:{input:function(n){e.change_name({$event:n,index:a})}}})],1)}))],1)},r=[],s={render:a,staticRenderFns:r};n.a=s},function(e,n,t){"use strict";var a=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"game"},[t("v-container",[t("v-text-field",{attrs:{label:"Money Stack",type:"number",min:"10",max:"50000",value:e.stack,"prepend-icon":"account_balance"},on:{input:e.setStack}}),e._v(" "),t("v-text-field",{attrs:{label:"People",type:"number",min:"2",max:"5",value:e.nPlayers,"prepend-icon":"people"},on:{input:e.setPlayers}}),e._v(" "),t("v-text-field",{attrs:{label:"small Blind",min:"1",max:"1000",type:"number",value:e.smallBlind,"prepend-icon":"attach_money"},on:{input:e.setSmallBlind}}),e._v(" "),t("v-text-field",{attrs:{label:"big Blind",value:e.bigBlind,"prepend-icon":"attach_money",disabled:""}})],1),e._v(" "),e.nPlayers>1?t("div",{attrs:{id:"players"}},[t("playerSettings")],1):e._e(),e._v(" "),t("v-container",[t("router-link",{attrs:{to:{name:"Game"}}},[t("v-btn",[e._v("\n        Start Game\n      ")])],1)],1)],1)},r=[],s={render:a,staticRenderFns:r};n.a=s},function(e,n,t){"use strict";var a=t(3),r=t(1),s=t(77),o=t(80);a.a.use(r.a);(void 0).NODE_ENV;n.a=new r.a.Store({strict:!0,state:{},modules:{game:s.a,settings:o.a}})},function(e,n,t){"use strict";var a={end:!1,listActions:[],oneWin:!1,cards:0,playersInHand:0,currentPlayerPos:1,pot:0,separatePot:[],winners:[],lastOne:0,dealer:-1,betAmount:0},r={separatePot:function(e){return e.separatePot},listActions:function(e){return e.listActions},winners:function(e){return e.winners},oneWin:function(e){return e.oneWin},dealer:function(e){return e.dealer},pot:function(e){return e.pot},lastOne:function(e){return e.lastOne},end:function(e){return e.end},betAmount:function(e){return e.betAmount},cards:function(e){return e.cards},playersInHand:function(e){return e.playersInHand},currentPlayerPos:function(e){return e.currentPlayerPos},currentPlayer:function(e,n){return n.players[e.currentPlayerPos]},nextPlayerPos:function(e,n){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"player",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;t="player"===t?e.currentPlayerPos:t;for(var r=t%n.nPlayers;a;){var s=0;for(r=(r+1)%n.nPlayers;(n.players[r].lost||n.players[r].folded||n.players[r].allIn)&&s++<50;)r=(r+1)%n.nPlayers;51==s&&(r=n.players.findIndex(function(e){return e.allIn})),a--}return r}},prevPlayerPos:function(e,n){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"player",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;t="player"===t?e.currentPlayerPos:t;for(var r=0===t?n.nPlayers-1:t-1;a;){for(var s=0;s++<50&&(n.players[r].lost||n.players[r].folded||n.players[r].allIn);)r=0===r?n.nPlayers-1:r-1;a--}return r}},changeLast:function(e,n){return function(e){return"bet"==e||"allIn"==e&&1==n.players.filter(function(e){return e.bet>=n.currentPlayer.bet}).length}}},s=t(78),o=t(79);n.a={state:a,getters:r,actions:s,mutations:o}},function(e,n){e.exports={chooseWinner:function(e){var n=e.state,t=e.dispatch,a=e.commit,r=e.getters;return n.winners.length&&a("chooseWinner",{players:r.players}),1!==r.players.filter(function(e){return e.stack>r.smallBlind}).length||n.pot?n.separatePot.every(function(e,n,t){return 0===e})?t("new_hand"):void 0:(a("reset"),t("new_hand"))},update_amount:function(e,n){var t=(e.state,e.commit);e.getters;t("updateAmount",{amount:n})},next_card:function(e){var n=e.commit,t=e.state,a=e.getters;if(5===t.cards)n("endGame");else{if(a.players.filter(function(e){return!e.folded&&!e.allIn}).length<2)return n("endGame");n("nextCard",{cards:0===t.cards?3:1,players:a.players,smallBlind:a.bigBlind,lastOne:a.prevPlayerPos(t.dealer+1),firstOne:a.nextPlayerPos(t.dealer)}),n("updateAmount",{amount:a.bigBlind,nPlayers:a.nPlayers})}},next_player:function(e,n){var t=e.dispatch,a=e.commit,r=e.state,s=e.getters,o=s.nextPlayerPos();return s.players.filter(function(e){return!e.folded}).length<2?(setTimeout(function(){return a("oneWin",s.players[o])},300),a("addWinner",o),t("chooseWinner")):s.players.filter(function(e){return!e.folded&&!e.allIn}).length?void(r.currentPlayerPos===r.lastOne?t("next_card"):a("nextPlayer",{nextPos:o})):a("endGame")},all_in:function(e){var n=e.commit;e.state;n("allIn",e.getters.currentPlayer)},next_action:function(e,n){var t=e.dispatch,a=e.commit,r=(e.state,e.getters),s=r.currentPlayer,o=r.currentPlayerPos,i=n.amount;return a("listActions",{player:s,pos:o,amount:i,type:n.type}),"fold"===n.type?a("fold",{player:s,pos:o,lastOne:r.nextPlayerPos(o)}):"follow"==n.type?a("follow",{player:s,pos:o,amount:i}):"bet"!=n.type&&"allIn"!=n.type||a("bet",{player:s,pos:o,amount:i}),r.changeLast(n.type)&&a("updateLast",r.prevPlayerPos()),r.players.filter(function(e){return!e.folded||!e.allIn}).length?t("next_player"):a("endGame")},new_hand:function(e,n){var t=e.commit,a=e.getters,r=a.dealer;t("clearPlayer",a.players),t("newHand",{players:a.players,numberOfPlayers:a.nPlayers,smallBlind:a.smallBlind,position:{dealer:a.nextPlayerPos(r),small:a.nextPlayerPos(r,2),big:a.nextPlayerPos(r,3),first:a.nextPlayerPos(r,4)}})}}},function(e,n){e.exports={chooseWinner:function(e,n){var t=n.players,a=e.winners.map(function(n){return{index:n,pot:e.separatePot[n]}});a.sort(function(e,n){return e.pot>n.pot}),a.map(function(n,r){var s=0;e.separatePot=e.separatePot.map(function(t){return s+=e.separatePot[n.index]<t?e.separatePot[n.index]:t,t-=e.separatePot[n.index],t<0&&(t=0),t});var o=r;for(e.pot-=s,amount=s/(a.length-r);o<a.length;)t[a[o].index].stack+=amount,t[a[o].index].allIn=!1,a[o].pot-=e.separatePot[n.index],o++}),e.pot<=0&&(e.pot=0,e.end=!1,e.separatePot=[0]),e.winners=[]},getMoneyBack:function(e,n){e.separatePot.forEach(function(e,t){return n[t].stack+=e}),e.end=!1},endGame:function(e){return e.end=!0},oneWin:function(e,n){return e.oneWin=n.name},playerOneDeals:function(e){return e.dealer=-1},updateLast:function(e,n){e.lastOne=n},addWinner:function(e,n){e.winners.includes(n)?e.winners.splice(e.winners.indexOf(n),1):e.winners.push(n)},updateAmount:function(e,n){e.betAmount=n.amount},nextPlayer:function(e,n){var t=n.nextPos;e.currentPlayerPos=t},fold:function(e,n){var t=n.player;n.pos,n.lastOne;t.folded=!0,e.playersInHand-=1},follow:function(e,n){var t=n.pos,a=n.player,r=n.amount,s=r-a.bet;s>=a.stack&&(s=a.stack),e.separatePot.splice(t,1,e.separatePot[t]+s),a.bet+=s,e.pot+=s,a.stack-=s},bet:function(e,n){var t=n.pos,a=n.player,r=n.amount,s=(n.type,a.bet,r-a.bet);s>=a.stack&&(s=a.stack),e.separatePot.splice(t,1,e.separatePot[t]+s),a.bet+=s,e.pot+=s,a.stack-=s},allIn:function(e,n){n.allIn=!0},nextCard:function(e,n){e.cards+=n.cards,n.players.map(function(e){return e.bet=0}),e.lastOne=n.lastOne,e.currentPlayerPos=n.firstOne},clearPlayer:function(e,n){n.map(function(e,n){e.folded=e.stack<=0&&(e.lost=!0),e.allIn=!1,e.stack=Math.round(e.stack),e.bet=0})},listActions:function(e,n){e.listActions.push(n.player.name+" "+n.type+" "+("bet"===n.type?n.amount:""))},newHand:function(e,n){function t(n,t){r[n].bet+=t,r[n].stack-=t,e.separatePot[n]=t}function a(e,n,a){t(n,2*o),t(e,o)}var r=n.players,s=n.numberOfPlayers,o=n.smallBlind,i=n.position;e.playersInHand=r.filter(function(e){return!e.lost}).length,e.dealer=i.dealer,e.cards=0,e.lastOne=i.big,e.currentPlayerPos=i.first,e.betAmount=2*o,e.separatePot=Array(s).fill(0),2===e.playersInHand?(e.currentPlayerPos=i.dealer,e.lastOne=i.small,a(i.big,i.small,e.playersInHand)):a(i.small,i.big,e.playersInHand),e.pot=3*o,e.listActions=[],e.oneWin=!1,e.end=!1}}},function(e,n,t){"use strict";var a=function(e){return{name:"player_"+(e+1),stack:0,index:e,bet:0,folded:!1,lost:!1,allIn:!1}},r={stack:500,reset:!1,numberOfPlayers:5,players:function(e){for(var n=[],t=0;e--;)n.push(a(t++));return n}(5),smallBlind:10,bigBlind:20},s={reset:function(e){return e.reset},stack:function(e){return e.stack},nPlayers:function(e){return e.numberOfPlayers},smallBlind:function(e){return e.smallBlind},bigBlind:function(e){return e.bigBlind},players:function(e){return e.players}},o={update_players:function(e,n){return(0,e.commit)("updatePlayersOrders",n)},reset_game:function(e){var n=e.commit,t=e.dispatch;return n("resetGame"),n("setPlayersStack"),t("new_hand")},change_name:function(e,n){var t=e.commit,a=e.getters,r=n.$event;a.players.some(function(e){return e.name===r})&&(n.$event+="_2"),t("changeName",n)}},i={setStack:function(e,n){return e.stack=+n},reset:function(e){return e.reset=!e.reset},setSmallBlind:function(e,n){e.smallBlind=+n,e.bigBlind=2*+n},setBigBlind:function(e,n){return e.bigBlind=n},setPlayers:function(e,n){n>0&&(n>e.numberOfPlayers?e.players.splice(n,1,a("Player_"+(+e.numberOfPlayers+1))):n<e.numberOfPlayers&&e.players.splice(n,+(e.numberOfPlayers-n)),e.numberOfPlayers=+n)},resetGame:function(e,n){e.players=e.players.map(function(n,t){return{name:"Player_"+(+t+1),stack:e.stack,bet:0,folded:!1,lost:!1}}),e.reset=!1},setPlayersStack:function(e){e.players.forEach(function(n){n.stack=e.stack,n.bet=0,n.folded=!1,n.lost=!1})},updatePlayersOrders:function(e,n){e.players=n},changeName:function(e,n){e.players[n.index].name=n.$event}};n.a={state:r,getters:s,actions:o,mutations:i}},function(e,n){}],[15]);
//# sourceMappingURL=app.99088625852f01f9aef6.js.map